(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{91644:function(e,t,r){"use strict";r.d(t,{JE:function(){return d},hT:function(){return m}});var n=r(52983),a=r(83849),i=r.n(a),s=r(91479),o=r(7862),u=r.n(o),c=/^(0x[a-zA-Z0-9]{4})[a-zA-Z0-9]+([a-zA-Z0-9]{4})$/,l=function(e){var t=e.className,r=e.truncate,a=e.address,s=void 0===a?"0x00":a,o=i()(t,"Address");return r?(0,n.createElement)("span",{className:o},function(e){var t=e.match(c);return t?t[1]+"\u2026"+t[2]:e}(s)):(0,n.createElement)("span",{className:o},s)},f=function(e){var t=e.children,r=e.loading;return(0,s.$4)().data?t:r};f.defaultProps={loading:null},f.propTypes={loading:u().func};var d=function(e){var t=e.className,r=e.truncate,a=e.msg,o=e.msgActive,u=i()(t,"WalletAddress"),c=(0,s.mA)(),f=c.address,d=c.isConnected;return d||o?!d&&o?(0,n.createElement)("span",{className:t},a):(0,n.createElement)("div",{className:u},(0,n.createElement)(l,{address:f,truncate:r})," "):null};d.defaultProps={msg:"Connect Wallet",msgActive:!1,truncate:!1};function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function o(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(S){o=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),s=new V(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return k()}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var o=_(s,r);if(o){if(o===l)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,s),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var l={};function f(){}function d(){}function y(){}var m={};o(m,a,(function(){return this}));var p=Object.getPrototypeOf,v=p&&p(p(F([])));v&&v!==t&&r.call(v,a)&&(m=v);var g=y.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,i,s,o){var u=c(e[a],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,o)}))}o(u.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function V(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function F(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=y,o(g,"constructor",y),o(y,"constructor",d),d.displayName=o(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,o(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),o(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var s=new w(u(t,r,n,a),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(g),o(g,s,"Generator"),o(g,a,(function(){return this})),o(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=F,V.prototype={constructor:V,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(o&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;A(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:F(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}function y(e,t,r,n,a,i,s){try{var o=e[i](s),u=o.value}catch(c){return void r(c)}o.done?t(u):Promise.resolve(u).then(n,a)}var m=function(e){var t=e.className,r=e.msg,a=e.msgActive,o=i()(t,"WalletNonce"),u=(0,s.mx)(),c=u.data,l=u.isLoading,f=u.isError,d=(0,n.useState)(),m=d[0],p=d[1];return(0,n.useEffect)((function(){var e;(e=h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=5;break}return e.next=3,c.getTransactionCount();case 3:t=e.sent,p(t);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){y(i,n,a,s,o,"next",e)}function o(e){y(i,n,a,s,o,"throw",e)}s(void 0)}))})()}),[l,c]),l?null:!f&&(f||m)||a?(f||!f&&!m)&&a?(0,n.createElement)("span",{className:t},r):(0,n.createElement)("div",{className:o},m):null};m.defaultProps={msg:"Connect Wallet",msgActive:!1,truncate:!1}},31772:function(e,t,r){"use strict";var n=r(25148);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,i,s){if(s!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return r.PropTypes=r,r}},7862:function(e,t,r){e.exports=r(31772)()},25148:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},14134:function(e,t,r){"use strict";function n(e,t,r,n,a,i,s){try{var o=e[i](s),u=o.value}catch(c){return void r(c)}o.done?t(u):Promise.resolve(u).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,u,"next",e)}function u(e){n(s,a,i,o,u,"throw",e)}o(void 0)}))}}r.d(t,{Z:function(){return a}})},82007:function(e,t,r){"use strict";function n(e){throw e}r.d(t,{Z:function(){return n}})},23148:function(e,t,r){"use strict";r.d(t,{cI:function(){return Ae}});var n=r(52983),a=e=>"checkbox"===e.type,i=e=>e instanceof Date,s=e=>null==e;const o=e=>"object"===typeof e;var u=e=>!s(e)&&!Array.isArray(e)&&o(e)&&!i(e),c=e=>u(e)&&e.target?a(e.target)?e.target.checked:e.target.value:e,l=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),f=e=>Array.isArray(e)?e.filter(Boolean):[],d=e=>void 0===e,h=(e,t,r)=>{if(!t||!u(e))return r;const n=f(t.split(/[,[\].]+?/)).reduce(((e,t)=>s(e)?e:e[t]),e);return d(n)||n===e?d(e[t])?r:e[t]:n};const y="blur",m="focusout",p="onBlur",v="onChange",g="onSubmit",b="onTouched",w="all",_="max",x="min",A="maxLength",V="minLength",F="pattern",k="required",S="validate";n.createContext(null);var E=(e,t,r,n=!0)=>{const a={};for(const i in e)Object.defineProperty(a,i,{get:()=>{const a=i;return t[a]!==w&&(t[a]=!n||w),r&&(r[a]=!0),e[a]}});return a},D=e=>u(e)&&!Object.keys(e).length,L=(e,t,r)=>{const{name:n,...a}=e;return D(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find((e=>t[e]===(!r||w)))},O=e=>Array.isArray(e)?e:[e];function N(e){const t=n.useRef(e);t.current=e,n.useEffect((()=>{const r=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>(e=>{e&&e.unsubscribe()})(r)}),[e.disabled])}var T=e=>"string"===typeof e,j=(e,t,r,n)=>{const a=Array.isArray(e);return T(e)?(n&&t.watch.add(e),h(r,e)):a?e.map((e=>(n&&t.watch.add(e),h(r,e)))):(n&&(t.watchAll=!0),r)},C=e=>"function"===typeof e,P=e=>{for(const t in e)if(C(e[t]))return!0;return!1};var U=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},B=e=>/^\w*$/.test(e),M=e=>f(e.replace(/["|']|\]/g,"").split(/\.|\[/));function I(e,t,r){let n=-1;const a=B(t)?[t]:M(t),i=a.length,s=i-1;for(;++n<i;){const t=a[n];let i=r;if(n!==s){const r=e[t];i=u(r)||Array.isArray(r)?r:isNaN(+a[n+1])?{}:[]}e[t]=i,e=e[t]}return e}const W=(e,t,r)=>{for(const n of r||Object.keys(e)){const r=h(e,n);if(r){const{_f:e,...n}=r;if(e&&t(e.name)){if(e.ref.focus&&d(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else u(n)&&W(n,t)}}};var q=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))))),G=(e,t,r)=>{const n=f(h(e,r));return I(n,"root",t[r]),I(e,r,n),e},R=e=>"boolean"===typeof e,$=e=>"file"===e.type,Z=e=>T(e)||n.isValidElement(e),H=e=>"radio"===e.type,z=e=>e instanceof RegExp;const Y={value:!1,isValid:!1},J={value:!0,isValid:!0};var K=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!d(e[0].attributes.value)?d(e[0].value)||""===e[0].value?J:{value:e[0].value,isValid:!0}:J:Y}return Y};const Q={isValid:!1,value:null};var X=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),Q):Q;function ee(e,t,r="validate"){if(Z(e)||Array.isArray(e)&&e.every(Z)||R(e)&&!e)return{type:r,message:Z(e)?e:"",ref:t}}var te=e=>u(e)&&!z(e)?e:{value:e,message:""},re=async(e,t,r,n,i)=>{const{ref:o,refs:c,required:l,maxLength:f,minLength:d,min:h,max:y,pattern:m,validate:p,name:v,valueAsNumber:g,mount:b,disabled:w}=e._f;if(!b||w)return{};const E=c?c[0]:o,L=e=>{n&&E.reportValidity&&(E.setCustomValidity(R(e)?"":e||" "),E.reportValidity())},O={},N=H(o),j=a(o),P=N||j,B=(g||$(o))&&!o.value||""===t||Array.isArray(t)&&!t.length,M=U.bind(null,v,r,O),I=(e,t,r,n=A,a=V)=>{const i=e?t:r;O[v]={type:e?n:a,message:i,ref:o,...M(e?n:a,i)}};if(i?!Array.isArray(t)||!t.length:l&&(!P&&(B||s(t))||R(t)&&!t||j&&!K(c).isValid||N&&!X(c).isValid)){const{value:e,message:t}=Z(l)?{value:!!l,message:l}:te(l);if(e&&(O[v]={type:k,message:t,ref:E,...M(k,t)},!r))return L(t),O}if(!B&&(!s(h)||!s(y))){let e,n;const a=te(y),i=te(h);if(s(t)||isNaN(t)){const r=o.valueAsDate||new Date(t);T(a.value)&&(e=r>new Date(a.value)),T(i.value)&&(n=r<new Date(i.value))}else{const r=o.valueAsNumber||+t;s(a.value)||(e=r>a.value),s(i.value)||(n=r<i.value)}if((e||n)&&(I(!!e,a.message,i.message,_,x),!r))return L(O[v].message),O}if((f||d)&&!B&&(T(t)||i&&Array.isArray(t))){const e=te(f),n=te(d),a=!s(e.value)&&t.length>e.value,i=!s(n.value)&&t.length<n.value;if((a||i)&&(I(a,e.message,n.message),!r))return L(O[v].message),O}if(m&&!B&&T(t)){const{value:e,message:n}=te(m);if(z(e)&&!t.match(e)&&(O[v]={type:F,message:n,ref:o,...M(F,n)},!r))return L(n),O}if(p)if(C(p)){const e=ee(await p(t),E);if(e&&(O[v]={...e,...M(S,e.message)},!r))return L(e.message),O}else if(u(p)){let e={};for(const n in p){if(!D(e)&&!r)break;const a=ee(await p[n](t),E,n);a&&(e={...a,...M(n,a.message)},L(a.message),r&&(O[v]=e))}if(!D(e)&&(O[v]={ref:E,...e},!r))return O}return L(!0),O};var ne="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function ae(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(ne&&(e instanceof Blob||e instanceof FileList)||!r&&!u(e))return e;t=r?[]:{};for(const r in e){if(C(e[r])){t=e;break}t[r]=ae(e[r])}}return t}var ie=e=>({isOnSubmit:!e||e===g,isOnBlur:e===p,isOnChange:e===v,isOnAll:e===w,isOnTouch:e===b});function se(e){for(const t in e)if(!d(e[t]))return!1;return!0}function oe(e,t){const r=B(t)?[t]:M(t),n=1==r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=d(e)?n++:e[t[n++]];return e}(e,r),a=r[r.length-1];let i;n&&delete n[a];for(let s=0;s<r.slice(0,-1).length;s++){let t,n=-1;const a=r.slice(0,-(s+1)),o=a.length-1;for(s>0&&(i=e);++n<a.length;){const r=a[n];t=t?t[r]:e[r],o===n&&(u(t)&&D(t)||Array.isArray(t)&&se(t))&&(i?delete i[r]:delete e[r]),i=t}}return e}function ue(){let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var ce=e=>s(e)||!o(e);function le(e,t){if(ce(e)||ce(t))return e===t;if(i(e)&&i(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const r=e[a];if(!n.includes(a))return!1;if("ref"!==a){const e=t[a];if(i(r)&&i(e)||u(r)&&u(e)||Array.isArray(r)&&Array.isArray(e)?!le(r,e):r!==e)return!1}}return!0}var fe=e=>{const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},de=e=>"select-multiple"===e.type,he=e=>fe(e)&&e.isConnected;function ye(e,t={}){const r=Array.isArray(e);if(u(e)||r)for(const n in e)Array.isArray(e[n])||u(e[n])&&!P(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ye(e[n],t[n])):s(e[n])||(t[n]=!0);return t}function me(e,t,r){const n=Array.isArray(e);if(u(e)||n)for(const a in e)Array.isArray(e[a])||u(e[a])&&!P(e[a])?d(t)||ce(r[a])?r[a]=Array.isArray(e[a])?ye(e[a],[]):{...ye(e[a])}:me(e[a],s(t)?{}:t[a],r[a]):r[a]=!le(e[a],t[a]);return r}var pe=(e,t)=>me(e,t,ye(t)),ve=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>d(e)?e:t?""===e||s(e)?NaN:+e:r&&T(e)?new Date(e):n?n(e):e;function ge(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return $(t)?t.files:H(t)?X(e.refs).value:de(t)?[...t.selectedOptions].map((({value:e})=>e)):a(t)?K(e.refs).value:ve(d(t.value)?e.ref.value:t.value,e)}var be=e=>d(e)?void 0:z(e)?e.source:u(e)?z(e.value)?e.value.source:e.value:e;function we(e,t,r){const n=h(e,r);if(n||B(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const n=a.join("."),i=h(t,n),s=h(e,n);if(i&&!Array.isArray(i)&&r!==n)return{name:r};if(s&&s.type)return{name:n,error:s};a.pop()}return{name:r}}const _e={mode:g,reValidateMode:v,shouldFocusError:!0};function xe(e={}){let t,r={..._e,...e},n={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},o={},u=ae(r.defaultValues)||{},p=r.shouldUnregister?{}:ae(u),v={action:!1,mount:!1,watch:!1},g={mount:new Set,unMount:new Set,array:new Set,watch:new Set},b=0,_={};const x={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},A={watch:ue(),array:ue(),state:ue()},V=ie(r.mode),F=ie(r.reValidateMode),k=r.criteriaMode===w,S=async e=>{let t=!1;return x.isValid&&(t=r.resolver?D((await P()).errors):await U(o,!0),e||t===n.isValid||(n.isValid=t,A.state.next({isValid:t}))),t},E=(e,t,r,n)=>{const a=h(o,e);if(a){const i=h(p,e,d(r)?h(u,e):r);d(i)||n&&n.defaultChecked||t?I(p,e,t?i:ge(a._f)):Z(e,i),v.mount&&S()}},L=(e,t,r,a,i)=>{let s=!1;const o={name:e},c=h(n.touchedFields,e);if(x.isDirty){const e=n.isDirty;n.isDirty=o.isDirty=B(),s=e!==o.isDirty}if(x.dirtyFields&&(!r||a)){const r=h(n.dirtyFields,e);le(h(u,e),t)?oe(n.dirtyFields,e):I(n.dirtyFields,e,!0),o.dirtyFields=n.dirtyFields,s=s||r!==h(n.dirtyFields,e)}return r&&!c&&(I(n.touchedFields,e,r),o.touchedFields=n.touchedFields,s=s||x.touchedFields&&c!==r),s&&i&&A.state.next(o),s?o:{}},N=async(r,a,i,s)=>{const o=h(n.errors,r),u=x.isValid&&n.isValid!==a;var c;if(e.delayError&&i?(c=()=>((e,t)=>{I(n.errors,e,t),A.state.next({errors:n.errors})})(r,i),t=e=>{clearTimeout(b),b=window.setTimeout(c,e)},t(e.delayError)):(clearTimeout(b),t=null,i?I(n.errors,r,i):oe(n.errors,r)),(i?!le(o,i):o)||!D(s)||u){const e={...s,...u?{isValid:a}:{},errors:n.errors,name:r};n={...n,...e},A.state.next(e)}_[r]--,x.isValidating&&!Object.values(_).some((e=>e))&&(A.state.next({isValidating:!1}),_={})},P=async e=>r.resolver?await r.resolver({...p},r.context,((e,t,r,n)=>{const a={};for(const i of e){const e=h(t,i);e&&I(a,i,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}})(e||g.mount,o,r.criteriaMode,r.shouldUseNativeValidation)):{},U=async(e,t,a={valid:!0})=>{for(const i in e){const s=e[i];if(s){const{_f:e,...i}=s;if(e){const i=g.array.has(e.name),o=await re(s,h(p,e.name),k,r.shouldUseNativeValidation,i);if(o[e.name]&&(a.valid=!1,t))break;!t&&(h(o,e.name)?i?G(n.errors,o,e.name):I(n.errors,e.name,o[e.name]):oe(n.errors,e.name))}i&&await U(i,t,a)}}return a.valid},B=(e,t)=>(e&&t&&I(p,e,t),!le(Q(),u)),M=(e,t,r)=>{const n={...v.mount?p:d(t)?u:T(e)?{[e]:t}:t};return j(e,g,n,r)},Z=(e,t,r={})=>{const n=h(o,e);let i=t;if(n){const r=n._f;r&&(!r.disabled&&I(p,e,ve(t,r)),i=ne&&fe(r.ref)&&s(t)?"":t,de(r.ref)?[...r.ref.options].forEach((e=>e.selected=i.includes(e.value))):r.refs?a(r.ref)?r.refs.length>1?r.refs.forEach((e=>!e.disabled&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):r.refs[0]&&(r.refs[0].checked=!!i):r.refs.forEach((e=>e.checked=e.value===i)):$(r.ref)?r.ref.value="":(r.ref.value=i,r.ref.type||A.watch.next({name:e})))}(r.shouldDirty||r.shouldTouch)&&L(e,i,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&K(e)},z=(e,t,r)=>{for(const n in t){const a=t[n],s=`${e}.${n}`,u=h(o,s);!g.array.has(e)&&ce(a)&&(!u||u._f)||i(a)?Z(s,a,r):z(s,a,r)}},Y=(e,t,r={})=>{const a=h(o,e),i=g.array.has(e),c=ae(t);I(p,e,c),i?(A.array.next({name:e,values:p}),(x.isDirty||x.dirtyFields)&&r.shouldDirty&&(n.dirtyFields=pe(u,p),A.state.next({name:e,dirtyFields:n.dirtyFields,isDirty:B(e,c)}))):!a||a._f||s(c)?Z(e,c,r):z(e,c,r),q(e,g)&&A.state.next({}),A.watch.next({name:e})},J=async e=>{const a=e.target;let i=a.name;const s=h(o,i);if(s){let l,f;const d=a.type?ge(s._f):c(e),v=e.type===y||e.type===m,b=!((u=s._f).mount&&(u.required||u.min||u.max||u.maxLength||u.minLength||u.pattern||u.validate))&&!r.resolver&&!h(n.errors,i)&&!s._f.deps||((e,t,r,n,a)=>!a.isOnAll&&(!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:!(r?n.isOnChange:a.isOnChange)||e))(v,h(n.touchedFields,i),n.isSubmitted,F,V),w=q(i,g,v);I(p,i,d),v?(s._f.onBlur&&s._f.onBlur(e),t&&t(0)):s._f.onChange&&s._f.onChange(e);const x=L(i,d,v,!1),E=!D(x)||w;if(!v&&A.watch.next({name:i,type:e.type}),b)return E&&A.state.next({name:i,...w?{}:x});if(!v&&w&&A.state.next({}),_[i]=(_[i],1),A.state.next({isValidating:!0}),r.resolver){const{errors:e}=await P([i]),t=we(n.errors,o,i),r=we(e,o,t.name||i);l=r.error,i=r.name,f=D(e)}else l=(await re(s,h(p,i),k,r.shouldUseNativeValidation))[i],f=await S(!0);s._f.deps&&K(s._f.deps),N(i,f,l,x)}var u},K=async(e,t={})=>{let a,i;const s=O(e);if(A.state.next({isValidating:!0}),r.resolver){const t=await(async e=>{const{errors:t}=await P();if(e)for(const r of e){const e=h(t,r);e?I(n.errors,r,e):oe(n.errors,r)}else n.errors=t;return t})(d(e)?e:s);a=D(t),i=e?!s.some((e=>h(t,e))):a}else e?(i=(await Promise.all(s.map((async e=>{const t=h(o,e);return await U(t&&t._f?{[e]:t}:t)})))).every(Boolean),(i||n.isValid)&&S()):i=a=await U(o);return A.state.next({...!T(e)||x.isValid&&a!==n.isValid?{}:{name:e},...r.resolver?{isValid:a}:{},errors:n.errors,isValidating:!1}),t.shouldFocus&&!i&&W(o,(e=>h(n.errors,e)),e?s:g.mount),i},Q=e=>{const t={...u,...v.mount?p:{}};return d(e)?t:T(e)?h(t,e):e.map((e=>h(t,e)))},X=(e,t)=>({invalid:!!h((t||n).errors,e),isDirty:!!h((t||n).dirtyFields,e),isTouched:!!h((t||n).touchedFields,e),error:h((t||n).errors,e)}),ee=(e,t={})=>{for(const a of e?O(e):g.mount)g.mount.delete(a),g.array.delete(a),h(o,a)&&(t.keepValue||(oe(o,a),oe(p,a)),!t.keepError&&oe(n.errors,a),!t.keepDirty&&oe(n.dirtyFields,a),!t.keepTouched&&oe(n.touchedFields,a),!r.shouldUnregister&&!t.keepDefaultValue&&oe(u,a));A.watch.next({}),A.state.next({...n,...t.keepDirty?{isDirty:B()}:{}}),!t.keepIsValid&&S()},te=(e,t={})=>{let n=h(o,e);const i=R(t.disabled);return I(o,e,{_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),g.mount.add(e),n?i&&I(p,e,t.disabled?void 0:h(p,e,ge(n._f))):E(e,!0,t.value),{...i?{disabled:t.disabled}:{},...r.shouldUseNativeValidation?{required:!!t.required,min:be(t.min),max:be(t.max),minLength:be(t.minLength),maxLength:be(t.maxLength),pattern:be(t.pattern)}:{},name:e,onChange:J,onBlur:J,ref:i=>{if(i){te(e,t),n=h(o,e);const r=d(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,s=(e=>H(e)||a(e))(r),c=n._f.refs||[];if(s?c.find((e=>e===r)):r===n._f.ref)return;I(o,e,{_f:{...n._f,...s?{refs:[...c.filter(he),r,...Array.isArray(h(u,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),E(e,!1,void 0,r)}else n=h(o,e,{}),n._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!l(g.array,e)||!v.action)&&g.unMount.add(e)}}};return{control:{register:te,unregister:ee,getFieldState:X,_executeSchema:P,_getWatch:M,_getDirty:B,_updateValid:S,_removeUnmounted:()=>{for(const e of g.unMount){const t=h(o,e);t&&(t._f.refs?t._f.refs.every((e=>!he(e))):!he(t._f.ref))&&ee(e)}g.unMount=new Set},_updateFieldArray:(e,t=[],r,a,i=!0,s=!0)=>{if(a&&r){if(v.action=!0,s&&Array.isArray(h(o,e))){const t=r(h(o,e),a.argA,a.argB);i&&I(o,e,t)}if(x.errors&&s&&Array.isArray(h(n.errors,e))){const t=r(h(n.errors,e),a.argA,a.argB);i&&I(n.errors,e,t),((e,t)=>{!f(h(e,t)).length&&oe(e,t)})(n.errors,e)}if(x.touchedFields&&s&&Array.isArray(h(n.touchedFields,e))){const t=r(h(n.touchedFields,e),a.argA,a.argB);i&&I(n.touchedFields,e,t)}x.dirtyFields&&(n.dirtyFields=pe(u,p)),A.state.next({isDirty:B(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else I(p,e,t)},_getFieldArray:t=>f(h(v.mount?p:u,t,e.shouldUnregister?h(u,t,[]):[])),_subjects:A,_proxyFormState:x,get _fields(){return o},get _formValues(){return p},get _stateFlags(){return v},set _stateFlags(e){v=e},get _defaultValues(){return u},get _names(){return g},set _names(e){g=e},get _formState(){return n},set _formState(e){n=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:K,register:te,handleSubmit:(e,t)=>async a=>{a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let i=!0,s=ae(p);try{if(r.resolver){const{errors:e,values:t}=await P();n.errors=e,s=t}else await U(o);D(n.errors)?(A.state.next({errors:{},isSubmitting:!0}),await e(s,a)):(t&&await t({...n.errors},a),r.shouldFocusError&&W(o,(e=>h(n.errors,e)),g.mount)),A.state.next({isSubmitting:!0})}catch(u){throw i=!1,u}finally{n.isSubmitted=!0,A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:D(n.errors)&&i,submitCount:n.submitCount+1,errors:n.errors})}},watch:(e,t)=>C(e)?A.watch.subscribe({next:r=>e(M(void 0,t),r)}):M(e,t,!0),setValue:Y,getValues:Q,reset:(t,r={})=>{const a=t||u,i=ae(a),s=t&&!D(t)?i:u;if(r.keepDefaultValues||(u=a),!r.keepValues){if(r.keepDirtyValues)for(const e of g.mount)h(n.dirtyFields,e)?I(s,e,h(p,e)):Y(e,h(s,e));else{if(ne&&d(t))for(const e of g.mount){const t=h(o,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;try{if(fe(e)){e.closest("form").reset();break}}catch(c){}}}o={}}p=e.shouldUnregister?r.keepDefaultValues?ae(u):{}:i,A.array.next({values:s}),A.watch.next({values:s})}g={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},v.mount=!x.isValid||!!r.keepIsValid,v.watch=!!e.shouldUnregister,A.state.next({submitCount:r.keepSubmitCount?n.submitCount:0,isDirty:r.keepDirty||r.keepDirtyValues?n.isDirty:!(!r.keepDefaultValues||le(t,u)),isSubmitted:!!r.keepIsSubmitted&&n.isSubmitted,dirtyFields:r.keepDirty||r.keepDirtyValues?n.dirtyFields:r.keepDefaultValues&&t?pe(u,t):{},touchedFields:r.keepTouched?n.touchedFields:{},errors:r.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(e,t={})=>{h(o,e)&&(d(t.defaultValue)?Y(e,h(u,e)):(Y(e,t.defaultValue),I(u,e,t.defaultValue)),t.keepTouched||oe(n.touchedFields,e),t.keepDirty||(oe(n.dirtyFields,e),n.isDirty=t.defaultValue?B(e,h(u,e)):B()),t.keepError||(oe(n.errors,e),x.isValid&&S()),A.state.next({...n}))},clearErrors:e=>{e?O(e).forEach((e=>oe(n.errors,e))):n.errors={},A.state.next({errors:n.errors})},unregister:ee,setError:(e,t,r)=>{const a=(h(o,e,{_f:{}})._f||{}).ref;I(n.errors,e,{...t,ref:a}),A.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&a&&a.focus&&a.focus()},setFocus:(e,t={})=>{const r=h(o,e)._f,n=r.refs?r.refs[0]:r.ref;n.focus(),t.shouldSelect&&n.select()},getFieldState:X}}function Ae(e={}){const t=n.useRef(),[r,a]=n.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});t.current?t.current.control._options=e:t.current={...xe(e),formState:r};const i=t.current.control,s=n.useCallback((e=>{L(e,i._proxyFormState,!0)&&(i._formState={...i._formState,...e},a({...i._formState}))}),[i]);return N({subject:i._subjects.state,callback:s}),n.useEffect((()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()})),t.current.formState=E(r,i._proxyFormState),t.current}}}]);